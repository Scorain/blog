// build time:Fri May 18 2018 10:02:47 GMT+0800 (中国标准时间)
$(function(){var e=0;$(".toc-child").hide();$(window).scroll(throttle(function(e){var i=$(this).scrollTop();if(!isMobile()){a(i);n(i)}var o=t(i);if(!isMobile()){if($("#page-header").hasClass("open-sidebar")){$("#page-header").css("width",$(window).width()-$("#sidebar").outerWidth())}else{$("#page-header").css("width",$(window).width())}}if(i>56){if(o){$("#page-header").hasClass("visible")?$("#page-header").removeClass("visible"):console.log()}else{$("#page-header").hasClass("visible")?console.log():$("#page-header").addClass("visible")}$("#page-header").addClass("fixed");if($("#go-up").css("opacity")==="0"){$("#go-up").velocity("stop").velocity({translateX:-30,rotateZ:360,opacity:1},{easing:"easeOutQuart",duration:200})}}else{if(i===0){$("#page-header").removeClass("fixed").removeClass("visible")}$("#go-up").velocity("stop").velocity({translateX:0,rotateZ:180,opacity:0},{easing:"linear",duration:200})}},50,100));$("#go-up").on("click",function(){$("body").velocity("stop").velocity("scroll",{duration:500,easing:"easeOutQuart"})});$("#post-content").find("h1,h2,h3,h4,h5,h6").on("click",function(e){i("#"+$(this).attr("id"))});$(".toc-link").on("click",function(e){e.preventDefault();i($(this).attr("href"))});function t(t){var i=t>e;e=t;return i}function i(e){$(e).velocity("stop").velocity("scroll",{duration:500,easing:"easeInOutQuart"})}function o(e){e.velocity("stop").velocity("transition.fadeIn",{duration:500,easing:"easeInQuart"})}function a(e){var t=$("#content-outer").height();var i=$(window).height();var o=t>i?t-i:$(document).height()-i;var a=e/o;var s=Math.round(a*100);var n=s>100?100:s;$(".progress-num").text(n);$(".sidebar-toc__progress-bar").velocity("stop").velocity({width:n+"%"},{duration:100,easing:"easeInOutQuart"})}function s(e){if(window.history.replaceState&&e!==window.location.hash){window.history.replaceState(undefined,undefined,e)}}function n(e){if($(".toc-link").length===0){return false}if(e<200){$(".toc-link").removeClass("active");$(".toc-child").hide()}var t=$("#post-content").find("h1,h2,h3,h4,h5,h6");var i="";t.each(function(){var t=$(this);if(e>t.offset().top-25){i="#"+$(this).attr("id")}});var a=$(".toc-link.active");if(i&&a.attr("href")!==i){s(i);$(".toc-link").removeClass("active");var n=$('.toc-link[href="'+i+'"]');n.addClass("active");var c=n.parents(".toc-child");if(c.length>0){var l;c.length>1?l=c.eq(c.length-1).find(".toc-child"):l=c;if(l.length>0&&l.is(":hidden")){o(l)}c.eq(c.length-1).closest(".toc-item").siblings(".toc-item").find(".toc-child").hide()}else{if(n.closest(".toc-item").find(".toc-child").is(":hidden")){o(n.closest(".toc-item").find(".toc-child"))}n.closest(".toc-item").siblings(".toc-item").find(".toc-child").hide()}}}});
//rebuild by neat 